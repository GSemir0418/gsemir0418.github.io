<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>antdpro on GSemir Blog</title>
    <link>https://gsemir0418.github.io/tags/antdpro/</link>
    <description>Recent content in antdpro on GSemir Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Sun, 22 Aug 2021 22:51:51 +0800</lastBuildDate><atom:link href="https://gsemir0418.github.io/tags/antdpro/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>umi&#43;AntdPro实战总结</title>
      <link>https://gsemir0418.github.io/posts/antdpro&#43;umi%E5%AE%9E%E6%88%98/</link>
      <pubDate>Sun, 22 Aug 2021 22:51:51 +0800</pubDate>
      
      <guid>https://gsemir0418.github.io/posts/antdpro&#43;umi%E5%AE%9E%E6%88%98/</guid>
      <description>项目主体开发临近尾声，顺利进入了测试阶段。为期三个月的开发期间，使我对react，特别是hooks的理解以及umi框架的理解大大提升。在此将umi与antdPro框架在使用过程中遇到的问题与解决方案整理如下。
1 Ant Design Pro 1.1 全局样式 全局的样式（包括覆盖原生antd的css）可以写到global.less中，记得属性后加!important
打包后样式失效时，可以尝试关闭config.js中的按需加载（dynamicImport），但可能对平台首页加载速度有一定影响
1.2 Pro表单项onChange事件无效 使用表单项组件时onChange事件失效
在表单项的fieldProps属性中定义onChange事件即可，fieldProps即Pro组件对应的原生antd属性。
1.3 ProComponents 1.3.1 ProTable   字段找不到
进行列配置时，对应字段可能在对象深层，在配置dataIndex时可以用数组的形式，例如
dataIndex:[&#39;data&#39;, &#39;placeNumber&#39;, &#39;method&#39;] 那么ProTable就会将行数据的data.placeNumber.method值呈现在表格中了
  可编辑表格编辑状态默认值
EditableProTable的columns配置中的valueEnum是用来转换字符串类型的枚举（配合valueType:&#39;select&#39;替代render），对于非字符串字段（如数值或布尔类型），则会出现编辑状态的默认值为空或为实际value的bug。
 可以使用renderFormItem配置此字段的Select选择框，利用ref全局变量存储选项值，通过onSave读取ref值，对接保存或新增借口即可。
// 修改后的status const status = useRef(null) ... { title: &amp;#39;装置状态&amp;#39;, dataIndex: &amp;#39;status&amp;#39;, // 功能同render  valueType: &amp;#39;select&amp;#39;, valueEnum: { 0: { text: &amp;#39;停工&amp;#39;, status: &amp;#39;Error&amp;#39;, }, 1: { text: &amp;#39;正常&amp;#39;, status: &amp;#39;Success&amp;#39;, }, }, renderFormItem: u =&amp;gt; [ &amp;lt;Select key=&amp;#39;statusSelect&amp;#39; // 配置初始值 defaultValue={u.</description>
    </item>
    
  </channel>
</rss>
